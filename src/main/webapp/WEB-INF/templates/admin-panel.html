<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="utf-8">
    <title>Eco Calendar</title>
    <link rel="stylesheet" href="/resources/css/main-page.css">
</head>
<body>
<meta charset="utf-8">
<div class="container">
    <h1>Eco Calendar üåø</h1>
    <section class="events-section">
        <h2>–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è</h2>
        <h3>–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö —Å–æ–±—ã—Ç–∏–π: <span th:text="${upcomingEventsQuantity}">0</span></h3>
        <h3>–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π: <span th:text="${finishedEventsQuantity}">0</span></h3>
        <table>
            <thead>
            <tr>
                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                <th>–ù–∞—á–∞–ª–æ</th>
                <th>–ö–æ–Ω–µ—Ü</th>
            </tr>
            </thead>
            <tbody>
            <tr th:if="${not #lists.isEmpty(events)}" th:each="event: ${events}">
                <td th:text="${event.summary}"></td>
                <th th:text="${event.description}"></th>
                <td th:text="${event.startTime != null ? event.startTime : '–í–µ—Å—å –¥–µ–Ω—å'}"></td>
                <td th:text="${event.endTime != null ? event.endTime : '–í–µ—Å—å –¥–µ–Ω—å'}"></td>
                <td>
                    <form action="/delete-event" method="POST" class="record__controls-form">
                        <input type="hidden" name="id" th:value='${event.id}'>
                        <button type="submit" class="button_type_close">
                            <svg width="24" height="24" viewBox="0 0 24 24">
                                <path d="M12.071 13.485l-2.828 2.829-1.415-1.415 2.829-2.828-2.829-2.828 1.415-1.415 2.828 2.829L14.9 7.828l.707.708.707.707-2.829 2.828 2.829 2.829-1.415 1.414-2.828-2.829z" fill="#000"></path>
                            </svg>
                        </button>
                    </form>
                </td>

            </tr>
            </tbody>
        </table>
        <h2 class="no-events-text" th:unless="${not #lists.isEmpty(events)}">–°–æ–±—ã—Ç–∏–π –ø–æ–∫–∞ –Ω–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ</h2>
    </section>

    <section class="form-section">
        <h2>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ</h2>
        <form action="/add" method="POST">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ:
                <input type="text" name="summary" required>
            </label>

            <label>–û–ø–∏—Å–∞–Ω–∏–µ:
                <textarea name="description"></textarea>
            </label>

            <label>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –Ω–∞—á–∞–ª–∞:
                <input type="datetime-local" name="startDateTime" required>
            </label>

            <label>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –∫–æ–Ω—Ü–∞:
                <input type="datetime-local" name="endDateTime" required>
            </label>

            <button type="submit">–°–æ–∑–¥–∞—Ç—å —Å–æ–±—ã—Ç–∏–µ</button>
        </form>
        <div class="bottom-button">
            <form action="/calendar" method="Get">
                <button type="submit" class="admin-btn">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</button>
            </form>
        </div>
    </section>
</div>
</body>
</html>
