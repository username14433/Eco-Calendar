<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Eco Calendar ‚Äì –ö–∞–ª–µ–Ω–¥–∞—Ä—å</title>
    <link rel="stylesheet" href="/resources/css/main-page.css">

    <!-- –û–¢–î–ï–õ–¨–ù–´–ô —Å—Ç–∏–ª—å —Ç–æ–ª—å–∫–æ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è -->
    <link rel="stylesheet" href="/resources/css/eco-front.css">
</head>
<body>
<div class="container">

    <div class="top-bar">
        <h1 th:text="${isAdmin} ? 'Eco Calendar üåø (–∞–¥–º–∏–Ω)' : 'Eco Calendar üåø'">Eco Calendar üåø</h1>

        <!-- —Å—Å—ã–ª–∫–∞ "–Ω–∞–∑–∞–¥" —Ä–∞–∑–Ω–∞—è –¥–ª—è —é–∑–µ—Ä–∞ –∏ –∞–¥–º–∏–Ω–∞ -->
        <a th:if="${isAdmin}" href="/admin-panel" class="back-link">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</a>
        <a th:unless="${isAdmin}" href="/calendar" class="back-link">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–ø–∏—Å–∫—É —Å–æ–±—ã—Ç–∏–π</a>
    </div>

    <div class="calendar-wrapper">

        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <section class="stats-section">
            <div class="stat-card">
                <span class="stat-label">–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö —Å–æ–±—ã—Ç–∏–π</span>
                <span class="stat-value" id="upcoming-count">0</span>
            </div>
            <div class="stat-card">
                <span class="stat-label">–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π</span>
                <span class="stat-value" id="finished-count">0</span>
            </div>
        </section>

        <!-- –î–≤–µ –∫–æ–ª–æ–Ω–∫–∏: —Å–ª–µ–≤–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—å, —Å–ø—Ä–∞–≤–∞ –¥–µ—Ç–∞–ª–∏/—Å–ø–∏—Å–æ–∫/—Ñ–æ—Ä–º–∞ -->
        <div class="calendar-layout">

            <!-- –õ–ï–í–ê–Ø –ö–û–õ–û–ù–ö–ê -->
            <section class="calendar-section">
                <div class="calendar-header">
                    <button class="calendar-nav-btn" id="prev-month">‚Äπ</button>
                    <div class="calendar-title" id="calendar-month-year">–ú–µ—Å—è—Ü –ì–æ–¥</div>
                    <button class="calendar-nav-btn" id="next-month">‚Ä∫</button>
                </div>

                <div class="calendar-weekdays">
                    <div class="calendar-weekday">–ü–Ω</div>
                    <div class="calendar-weekday">–í—Ç</div>
                    <div class="calendar-weekday">–°—Ä</div>
                    <div class="calendar-weekday">–ß—Ç</div>
                    <div class="calendar-weekday">–ü—Ç</div>
                    <div class="calendar-weekday">–°–±</div>
                    <div class="calendar-weekday">–í—Å</div>
                </div>

                <div class="calendar-days" id="calendar-days">
                    <!-- —Å—é–¥–∞ JS –≤—Å—Ç–∞–≤–ª—è–µ—Ç –¥–Ω–∏ -->
                </div>
            </section>

            <!-- –ü–†–ê–í–ê–Ø –ö–û–õ–û–ù–ö–ê -->
            <div class="calendar-side">

                <!-- –î–µ—Ç–∞–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –¥–Ω—è -->
                <section class="day-details-section">
                    <h2 id="day-details-title">–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–Ω—å</h2>
                    <div id="day-details-content" class="day-details-empty">
                        –ü–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –≤—ã–±—Ä–∞–Ω–æ
                    </div>
                </section>

                <!-- –ë–ª–∏–∂–∞–π—à–∏–µ —Å–æ–±—ã—Ç–∏—è -->
                <section class="upcoming-section">
                    <h2>–ë–ª–∏–∂–∞–π—à–∏–µ —Å–æ–±—ã—Ç–∏—è</h2>
                    <ul id="upcoming-list" class="upcoming-list"></ul>
                </section>

                <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è ‚Äî –¢–û–õ–¨–ö–û –î–õ–Ø –ê–î–ú–ò–ù–ê -->
                <section class="form-section" th:if="${isAdmin}">
                    <h2>–î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ</h2>
                    <form id="add-event-form">
                        <label>
                            –ù–∞–∑–≤–∞–Ω–∏–µ:
                            <input type="text" name="summary" required>
                        </label>
                        <label>
                            –û–ø–∏—Å–∞–Ω–∏–µ:
                            <textarea name="description" required></textarea>
                        </label>
                        <label>
                            –ù–∞—á–∞–ª–æ:
                            <input type="datetime-local" name="startTime" required>
                        </label>
                        <label>
                            –ö–æ–Ω–µ—Ü:
                            <input type="datetime-local" name="endTime" required>
                        </label>
                        <label>
                            –°—Ç–∞—Ç—É—Å:
                            <select name="status">
                                <option value="AWAITING">–ü—Ä–µ–¥—Å—Ç–æ—è—â–µ–µ</option>
                                <option value="FINISHED">–ó–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–µ</option>
                            </select>
                        </label>
                        <button type="submit" class="admin-btn">–î–æ–±–∞–≤–∏—Ç—å</button>
                    </form>
                </section>

            </div> <!-- /calendar-side -->
        </div> <!-- /calendar-layout -->
    </div> <!-- /calendar-wrapper -->
</div> <!-- /container -->

<!-- –ü–µ—Ä–µ–¥–∞—ë–º —Ñ–ª–∞–≥ isAdmin –≤ JS -->
<script th:inline="javascript">
    window.IS_ADMIN = /*[[${isAdmin}]]*/ false;
</script>

<script src="/resources/js/eco-front.js"></script>
</body>
</html>
